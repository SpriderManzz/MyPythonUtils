* 基于Python + Requests + Excel的数据驱动接口自动化测试框架
* 设计思路：采用Excel文件来管理测试用例
* 通常所见接口返回的都是json,该接口框架默认测试该类接口



## 运行方式
直接执行main下面的run_main方法即可

## 测试报告
可在配置文件ismail字段设置

## 解决数据依赖思路
1、获取需要依赖数据的caseID，然后获取返回值中value中key的位置，然后注明那个字段需要用到
拿到caseID，然后去执行一次 对应的caseID一次




## base包
run_method.py       基础Get和Post请求的封装类

## cases文件夹
用于存放测试数据Excel

## data包
* data_config.py      存放Excel测试用例的列号
* get_data.py         获取Excel单元格方法的封装类(里面有含写入Excel的方法)

## 工具包
* get_path.py         获取路径工具类
* opera_excel.py      操作Excel工具类
* opera_json.py       操作json工具类
* send_email.py       发送邮箱工具类
* read_config.py      读取配置文件工具类
* config_data.py      config配置的信息
* common_util.py      存放一些公共方法的工具类
* log.py              日志工具类
* connect_db.py       数据库工具类

## config.ini配置文件
* 1、配置一些常量,例如Excel表格的列、接口、邮件的相关信息
* 2、在测试过程中发现有些项目的有公共的path，所以写一个配置来读取公共path，减少测试用例中url地址的长度(为了美观)
    (Excel测试用例想要完整的URL展示，在run_main()方法下注释url = base_url+url即可)
* isemail邮件开关--True代表开启邮件功能,False代表关闭邮箱功能

## 后续优化点
* 解决测试数据依赖
* 是否需要预期结果与数据库进行对比呢？
* 预期结果的写法后续优化成dict，进行键值对的比较(目前实现是字符串)
* 后期实现从配置文件读取用例，决定是否需要执行那些配置文件，方便以excel为模块进行测试用例编写


* 实现各种方法供测试数据准备用，如：生成随机数，随机字符串等
* 找一套或者开发自己开源的web项目，实现用文本进行测试脚本的编写，及把日志呈现出来，
* 后续使用用jenkins集合rancher进行打包及升级，



## 环境模块说明
* python==3.8.1
* requests==2.25.1
* xlrd==2.0.1
* xlutils==2.0.0
* json
* os
* pymysql==1.2.3
* smtplib


* Python3.8.1,解释器环境
* requests,模拟用户发送http协议get或者post类型请求
* xlrd,读取excel表格数据
* os,获取路径
* sys,设置环境变量
* json,对服务器返回的字符串转换为字典，方便做断言
* pymysql,操作数据库



# jenkis说明
cmd：Jenkins包目录下，执行java -jar Jenkins.war

(编码习惯：类名:OperaUtil、类的对象:operaUtil
         方法名:get_excel_value 普遍变量：get_excel)

# 更新日志
* 新增配置文件
* 新增日志类
* 新增数据工具类
* 202103/08 调整请求封装类